# üó∫Ô∏è Laboratorio Integrador - An√°lisis Geoespacial de Comuna Chilena

[![GitHub](https://img.shields.io/badge/GitHub-franciscoparrao-blue?style=flat&logo=github)](https://github.com/franciscoparrao)
[![Course](https://img.shields.io/badge/Curso-Geoinform√°tica-green)](https://github.com/franciscoparrao/geoinformatica)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)

## üìã Descripci√≥n

Proyecto integrador que combina todas las tecnolog√≠as y m√©todos aprendidos en las primeras 7 clases del curso de Geoinform√°tica. Este laboratorio requiere desarrollar un an√°lisis territorial completo de una comuna chilena, incluyendo procesamiento de datos espaciales, geoestad√≠stica, machine learning y visualizaci√≥n interactiva.

## üë• Informaci√≥n del Equipo

| Integrante | Rol | GitHub |
|------------|-----|--------|
| [Nombre 1] | [Rol/Responsabilidad] | [@usuario1] |
| [Nombre 2] | [Rol/Responsabilidad] | [@usuario2] |

**Comuna seleccionada:** [NOMBRE DE LA COMUNA]
**Repositorio del curso:** [github.com/franciscoparrao/geoinformatica](https://github.com/franciscoparrao/geoinformatica)

## üöÄ Quick Start

### Prerrequisitos

- Docker Desktop instalado (versi√≥n 4.0+)
- Python 3.10 o superior
- Git
- M√≠nimo 8GB RAM disponible
- 20GB de espacio en disco

### Instalaci√≥n R√°pida

```bash
# 1. Clonar el repositorio
git clone https://github.com/franciscoparrao/geoinformatica.git
cd geoinformatica/laboratorio-integrador

# 2. Ejecutar script de configuraci√≥n
chmod +x setup.sh
./setup.sh

# 3. Configurar variables de entorno
cp .env.example .env
# Editar .env con tus valores

# 4. Levantar servicios Docker
docker-compose up -d

# 5. Verificar instalaci√≥n
docker-compose ps
```

### Acceso a Servicios

| Servicio | URL | Credenciales |
|----------|-----|--------------|
| Jupyter Lab | http://localhost:8888 | Token en .env |
| PostGIS | localhost:5432 | geouser/geopass |
| Web App | http://localhost:5000 | - |
| PgAdmin | http://localhost:5050 | admin@admin.com/admin |

## üìÅ Estructura del Proyecto

```
laboratorio_integrador/
‚îú‚îÄ‚îÄ üìÑ README.md                 # Este archivo
‚îú‚îÄ‚îÄ üìã requirements.txt          # Dependencias Python
‚îú‚îÄ‚îÄ üê≥ docker-compose.yml        # Configuraci√≥n Docker
‚îú‚îÄ‚îÄ üîí .env                      # Variables de entorno (no subir!)
‚îú‚îÄ‚îÄ üìù .gitignore               # Archivos ignorados
‚îÇ
‚îú‚îÄ‚îÄ üê≥ docker/                  # Configuraciones Docker
‚îÇ   ‚îú‚îÄ‚îÄ jupyter/                # Imagen personalizada Jupyter
‚îÇ   ‚îú‚îÄ‚îÄ postgis/                # Inicializaci√≥n PostGIS
‚îÇ   ‚îî‚îÄ‚îÄ web/                    # Aplicaci√≥n web
‚îÇ
‚îú‚îÄ‚îÄ üíæ data/                    # Datos del proyecto
‚îÇ   ‚îú‚îÄ‚îÄ raw/                    # Datos originales sin procesar
‚îÇ   ‚îú‚îÄ‚îÄ processed/              # Datos procesados y limpios
‚îÇ   ‚îî‚îÄ‚îÄ external/               # Datos de fuentes externas
‚îÇ
‚îú‚îÄ‚îÄ üìì notebooks/               # An√°lisis en Jupyter
‚îÇ   ‚îú‚îÄ‚îÄ 01_data_acquisition.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 02_exploratory_analysis.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 03_geostatistics.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 04_machine_learning.ipynb
‚îÇ   ‚îî‚îÄ‚îÄ 05_results_synthesis.ipynb
‚îÇ
‚îú‚îÄ‚îÄ üêç scripts/                 # Scripts Python reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ download_data.py       # Descarga automatizada
‚îÇ   ‚îú‚îÄ‚îÄ process_data.py        # Procesamiento
‚îÇ   ‚îú‚îÄ‚îÄ spatial_analysis.py    # An√°lisis espacial
‚îÇ   ‚îî‚îÄ‚îÄ utils.py              # Funciones auxiliares
‚îÇ
‚îú‚îÄ‚îÄ üåê app/                    # Aplicaci√≥n web Streamlit
‚îÇ   ‚îú‚îÄ‚îÄ main.py               # Aplicaci√≥n principal
‚îÇ   ‚îú‚îÄ‚îÄ pages/                # P√°ginas del dashboard
‚îÇ   ‚îî‚îÄ‚îÄ components/           # Componentes reutilizables
‚îÇ
‚îú‚îÄ‚îÄ üìä outputs/                # Resultados generados
‚îÇ   ‚îú‚îÄ‚îÄ figures/              # Gr√°ficos y mapas
‚îÇ   ‚îú‚îÄ‚îÄ models/               # Modelos ML entrenados
‚îÇ   ‚îî‚îÄ‚îÄ reports/              # Informes y documentos
‚îÇ
‚îî‚îÄ‚îÄ üìö docs/                   # Documentaci√≥n
    ‚îú‚îÄ‚îÄ guia_usuario.md       # Manual de usuario
    ‚îú‚îÄ‚îÄ arquitectura.md       # Arquitectura t√©cnica
    ‚îî‚îÄ‚îÄ api_reference.md      # Referencia API
```

## üõ†Ô∏è Configuraci√≥n Detallada

### 1. Configuraci√≥n del Entorno Python

```bash
# Crear ambiente virtual
python -m venv venv

# Activar ambiente (Linux/Mac)
source venv/bin/activate

# Activar ambiente (Windows)
venv\Scripts\activate

# Instalar dependencias
pip install -r requirements.txt
```

### 2. Configuraci√≥n de PostGIS

```bash
# Conectarse a la base de datos
docker exec -it postgis psql -U geouser -d geodatabase

# Verificar extensiones
\dx

# Debe mostrar:
# - postgis
# - postgis_topology
# - postgis_raster
# - pgrouting (si est√° instalado)
```

### 3. Descarga de Datos

```bash
# Ejecutar script de descarga
python scripts/download_data.py --comuna "La Florida" --year 2024

# Opciones disponibles:
# --comuna: Nombre de la comuna
# --year: A√±o de los datos
# --sources: Fuentes espec√≠ficas (ine, osm, sentinel, all)
```

## üìä Flujo de Trabajo

### Fase 1: Preparaci√≥n de Datos (Semana 1)

- [ ] Seleccionar comuna de estudio
- [ ] Configurar ambiente de desarrollo
- [ ] Descargar datos de m√∫ltiples fuentes
- [ ] Cargar datos en PostGIS
- [ ] Validar calidad de datos

### Fase 2: An√°lisis Espacial (Semana 2)

- [ ] An√°lisis exploratorio (ESDA)
- [ ] Calcular autocorrelaci√≥n espacial
- [ ] Identificar hot spots y clusters
- [ ] Crear visualizaciones tem√°ticas
- [ ] An√°lisis geoestad√≠stico

### Fase 3: Machine Learning y Aplicaci√≥n (Semana 3)

- [ ] Feature engineering espacial
- [ ] Entrenar modelos predictivos
- [ ] Validaci√≥n espacial
- [ ] Desarrollar aplicaci√≥n web
- [ ] Documentar resultados

## üî¨ An√°lisis Incluidos

### 1. An√°lisis Exploratorio de Datos Espaciales (ESDA)
- Estad√≠sticas descriptivas espaciales
- Mapas de distribuci√≥n
- An√°lisis de patrones

### 2. Autocorrelaci√≥n Espacial
- √çndice de Moran Global
- LISA (Local Indicators of Spatial Association)
- Getis-Ord G*

### 3. Geoestad√≠stica
- Semivariogramas
- Kriging ordinario
- Validaci√≥n cruzada

### 4. Machine Learning Geoespacial
- Random Forest espacial
- XGBoost con features geogr√°ficos
- Validaci√≥n espacial (no random!)

### 5. Visualizaci√≥n Interactiva
- Dashboard Streamlit
- Mapas interactivos con Folium
- Gr√°ficos din√°micos con Plotly

## üåê Aplicaci√≥n Web

### Ejecutar la aplicaci√≥n

```bash
# Desarrollo
streamlit run app/main.py

# Producci√≥n con Docker
docker-compose up web
```

### Caracter√≠sticas principales

- üó∫Ô∏è Mapa interactivo con m√∫ltiples capas
- üìà Gr√°ficos din√°micos de estad√≠sticas
- ü§ñ Panel de predicciones ML
- üíæ Descarga de resultados
- üì± Dise√±o responsive

## üìù Notebooks

### 1. `01_data_acquisition.ipynb`
Descarga y carga inicial de datos desde m√∫ltiples fuentes.

### 2. `02_exploratory_analysis.ipynb`
ESDA completo con visualizaciones y estad√≠sticas.

### 3. `03_geostatistics.ipynb`
An√°lisis geoestad√≠stico y interpolaci√≥n espacial.

### 4. `04_machine_learning.ipynb`
Modelos predictivos con validaci√≥n espacial.

### 5. `05_results_synthesis.ipynb`
S√≠ntesis de resultados y conclusiones.

## üß™ Testing

```bash
# Ejecutar tests unitarios
pytest tests/

# Ejecutar con coverage
pytest --cov=scripts tests/

# Verificar calidad del c√≥digo
flake8 scripts/ app/
black --check scripts/ app/
```

## üìà Monitoreo y Logs

```bash
# Ver logs de todos los servicios
docker-compose logs -f

# Logs de un servicio espec√≠fico
docker-compose logs -f postgis

# Estado de los contenedores
docker stats
```

## üêõ Troubleshooting

### Problema: Puerto en uso
```bash
# Verificar puertos en uso
sudo lsof -i :8888
sudo lsof -i :5432

# Matar proceso
kill -9 [PID]
```

### Problema: Falta de memoria Docker
```bash
# Aumentar memoria en Docker Desktop
# Settings -> Resources -> Memory -> 8GB m√≠nimo
```

### Problema: Error de permisos
```bash
# Linux/Mac
sudo chown -R $USER:$USER .

# Dar permisos de ejecuci√≥n
chmod +x scripts/*.py
```

## üìö Recursos y Referencias

### Documentaci√≥n Oficial
- [GeoPandas](https://geopandas.org)
- [PySAL](https://pysal.org)
- [OSMnx](https://osmnx.readthedocs.io)
- [Streamlit](https://docs.streamlit.io)
- [PostGIS](https://postgis.net/docs/)

### Fuentes de Datos
- [IDE Chile](https://www.ide.cl)
- [INE Chile](https://www.ine.cl)
- [OpenStreetMap](https://www.openstreetmap.org)
- [Google Earth Engine](https://earthengine.google.com)
- [Sentinel Hub](https://www.sentinel-hub.com)

### Tutoriales Recomendados
- [Automating GIS Processes](https://automating-gis-processes.github.io)
- [Geographic Data Science](https://geographicdata.science)
- [Spatial Thoughts](https://spatialthoughts.com)

## üë®‚Äçüíª Desarrollo

### Convenciones de c√≥digo

- Python: PEP 8
- Commits: Conventional Commits
- Branches: `feature/nombre`, `fix/nombre`, `docs/nombre`

### Flujo de Git

```bash
# Crear rama para nueva caracter√≠stica
git checkout -b feature/analisis-clustering

# Hacer cambios y commit
git add .
git commit -m "feat: agregar an√°lisis de clustering DBSCAN"

# Push y crear PR
git push origin feature/analisis-clustering
```

## üìä M√©tricas del Proyecto

![Python](https://img.shields.io/badge/Python-3.10%2B-blue)
![Docker](https://img.shields.io/badge/Docker-Compose-blue)
![PostGIS](https://img.shields.io/badge/PostGIS-3.3-green)
![License](https://img.shields.io/badge/License-MIT-yellow)

### Estad√≠sticas de c√≥digo

- L√≠neas de c√≥digo Python: [XXX]
- Notebooks Jupyter: 5
- Tests escritos: [XX]
- Coverage: [XX]%

## üìÑ Licencia

Este proyecto fue desarrollado como parte del curso de Geoinform√°tica en USACH.

## üôè Agradecimientos

- Prof. Francisco Parra O. por la gu√≠a y ense√±anza
- Compa√±eros de curso por el feedback
- Comunidad Open Source por las herramientas

## üìß Contacto

Para consultas sobre el proyecto:
- Email: [tu-email@usach.cl]
- GitHub Issues: [github.com/franciscoparrao/geoinformatica/issues](https://github.com/franciscoparrao/geoinformatica/issues)
- Repositorio: [github.com/franciscoparrao/geoinformatica](https://github.com/franciscoparrao/geoinformatica)

---

**√öltima actualizaci√≥n:** $(date)

**Estado del proyecto:** üöß En desarrollo

```mermaid
graph LR
    A[Datos Raw] --> B[Procesamiento]
    B --> C[PostGIS]
    C --> D[An√°lisis Espacial]
    D --> E[Machine Learning]
    E --> F[Web App]
    F --> G[Usuario Final]
```